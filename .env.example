# Wakeify Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED - Spotify API Configuration
# =============================================================================
# Get these from https://developer.spotify.com/dashboard
# 1. Create an app in Spotify Developer Dashboard
# 2. Add redirect URI: https://your-container-ip/callback
# 3. Copy Client ID and Client Secret here
SPOTIFY_CLIENT_ID=your_client_id_here
SPOTIFY_CLIENT_SECRET=your_client_secret_here
SPOTIFY_REDIRECT_URI=https://192.168.1.11/callback

# =============================================================================
# REQUIRED - Application Security
# =============================================================================
# Generate a secure random string: openssl rand -hex 32
APP_SECRET=your_app_secret_here

# =============================================================================
# REQUIRED - Network Configuration
# =============================================================================
# Set these to match your network setup
CONTAINER_IP=192.168.1.11
GATEWAY_IP=192.168.1.1
NETWORK_SUBNET=192.168.1.0/24
NETWORK_INTERFACE=eth0

# =============================================================================
# Optional - Alarm Configuration
# =============================================================================
# Default speaker name (leave empty for auto-detection)
DEFAULT_SPEAKER=

# Default volume (0-100)
DEFAULT_VOLUME=30

# Enable shuffle by default
DEFAULT_SHUFFLE=true

# =============================================================================
# Optional - System Configuration
# =============================================================================
# Base directory for data storage
BASE_DIR=/data/wakeify

# Timezone (default: America/New_York)
TZ=America/New_York

# =============================================================================
# Optional - Playback Configuration
# =============================================================================
# Enable pre-warm phase (T-60s)
ALARM_PREWARM_ENABLED=true

# Enable automatic device discovery
DEVICE_AUTO_DISCOVERY=true

# =============================================================================
# Optional - T-60s Timeline Configuration
# =============================================================================
# Pre-warm delay (seconds before alarm)
ALARM_PREWARM_S=60

# Fast polling period (seconds)
ALARM_POLL_FAST_S=5.0

# Total polling deadline (seconds)
ALARM_POLL_DEADLINE_S=20

# Polling deadline extension after successful addUser (seconds)
ALARM_POLL_DEADLINE_EXTENSION_S=15

# Debounce delay after device seen (seconds)
ALARM_DEBOUNCE_S=0.6

# Retry delay for 404 errors (seconds)
ALARM_RETRY_404_S=0.7

# Failover timeout (seconds after T-0)
ALARM_FAILOVER_S=2.0

# Wait time after addUser before checking devices (seconds)
ALARM_ADDUSER_WAIT_S=5.0

# mDNS discovery timeout (seconds)
ALARM_MDNS_TIMEOUT_S=1.5

# getInfo request timeout (seconds)
ALARM_GETINFO_TIMEOUT_S=1.5

# addUser request timeout (seconds)
ALARM_ADDUSER_TIMEOUT_S=2.5

# Device info request timeout (seconds)
ALARM_DEVICE_INFO_TIMEOUT_S=2.0

# Verify device ready timeout (seconds)
ALARM_VERIFY_DEVICE_TIMEOUT_S=0.5

# Confirmation loop sleep time (seconds)
ALARM_CONFIRMATION_SLEEP_S=0.2

# Fast polling sleep interval (seconds)
ALARM_POLL_SLEEP_FAST_S=0.5

# Slow polling sleep interval (seconds)
ALARM_POLL_SLEEP_SLOW_S=1.0

# =============================================================================
# Optional - Device Discovery Configuration
# =============================================================================
# mDNS discovery timeout (seconds)
MDNS_DISCOVERY_TIMEOUT_S=1.5

# Device wake timeout (seconds)
DEVICE_WAKE_TIMEOUT_S=22

# =============================================================================
# Optional - Fallback Configuration
# =============================================================================
# Fallback timeout (seconds)
FALLBACK_TIMEOUT_S=10

# Quick check attempts
FALLBACK_QUICK_CHECK_ATTEMPTS=2

# Wake attempts
FALLBACK_WAKE_ATTEMPTS=3

# Fallback mDNS timeout (seconds)
FALLBACK_MDNS_TIMEOUT_S=5

# =============================================================================
# Optional - Circuit Breaker Configuration
# =============================================================================
# Failure threshold before opening circuit breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=3

# Recovery timeout (seconds) before retrying after circuit breaker opens
CIRCUIT_BREAKER_RECOVERY_TIMEOUT_S=300

# =============================================================================
# Optional - Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: text or json
LOG_FORMAT=text

# =============================================================================
# Optional - Performance Configuration
# =============================================================================
# Maximum concurrent alarms
MAX_CONCURRENT_ALARMS=5

# Alarm queue size
ALARM_QUEUE_SIZE=100

# =============================================================================
# Optional - Monitoring Configuration
# =============================================================================
# Enable metrics collection
METRICS_ENABLED=true

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL_S=30
